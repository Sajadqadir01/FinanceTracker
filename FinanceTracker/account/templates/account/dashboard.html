{% extends "base.html" %}

{% block title %}داشبورد — FinanceTracker{% endblock %}

{% block content %}
  <!-- SIDEBAR -->
  <aside id="sidebar" class="w-72 bg-gray-800 border-l border-gray-700 min-h-screen p-6 transform md:translate-x-0 -translate-x-full md:relative fixed z-40">
    <div class="flex items-center mb-6">
      <div class="rounded-full bg-gray-700 w-12 h-12 flex items-center justify-center ml-3">
        <span class="text-xl">{{ request.user.first_name|slice:":1"|default:"U" }}</span>
      </div>
      <div class="text-right">
        <div class="text-sm font-semibold">{{ request.user.get_full_name|default:request.user.email }}</div>
        <div class="text-xs text-gray-400">{{ request.user.email }}</div>
      </div>
    </div>

    <nav class="space-y-2 mt-6 text-right">
      <a href="{% url 'dashboard' %}" class="block px-3 py-2 rounded hover:bg-gray-700">نمای کلی</a>
      <a href="{% url 'transaction' %}" class="block px-3 py-2 rounded hover:bg-gray-700">تراکنش جدید</a>
      <a href="{% url 'account_info' %}" class="block px-3 py-2 rounded hover:bg-gray-700">ویرایش پروفایل</a>
      <a href="{% url 'change_password' %}" class="block px-3 py-2 rounded hover:bg-gray-700">تغییر رمز عبور</a>
      <a href="{% url 'dashboard' %}" class="block px-3 py-2 rounded hover:bg-gray-700">گزارشات</a>
    </nav>

    <div class="mt-6 text-sm text-gray-400 text-right">
      <div>موجودی فعلی</div>
      <div class="mt-1 text-2xl font-bold text-left">{{ balance|default:0 }} تومان</div>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="flex-1 p-8 md:mr-72">
    <div class="container mx-auto">
      {% block dashboard_content %}
      <!-- محتوا در صفحات فرزند وارد می‌شود -->
      {% endblock %}
    </div>
  </main>
{% endblock %}